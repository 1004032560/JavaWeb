## 1、过滤器作用

把通用的、相同的处理代码用过滤器实现，可以共享，然后在 web.xml 中将过滤器配置给相关的资源使用



## 2、过滤器的开发方法

1. 自定义类实现 Filter 接口
2. 实现接口的方法中，重点是 doFilter 方法



## 3、过滤器的各个方法执行顺序：

1. 构造方法
2. 初始化方法
3. 执行 doFilter 方法
4. destroy() 销毁方法



## 4、FilterConfig接口的方法

​	1.getFilterName():返回xml配置的filter的名字

​    2.getInitParameter(name):返回初始化的参数的值

​    3.getInitParameterNames():返回所有的初始化参数的名字

​    4.getServletContext():返回上下文对象



## 5、FilterChain接口的方法

doFilter()方法:

​	1.如果有下一个过滤器就执行下一个过滤器

​	2.没有就会执行目标资源(servlet或者jsp)



## 6、过滤器配置信息

1. 过滤器的名字和过滤器的类信息
2. 过滤器对哪些 URL 生效
3. 过滤器对这些 URL 生效时的访问方式：
   - REQUEST（默认）：直接 URL 访问、响应重定向、超级链接、表单提交、静态包含
   - FORWARD：请求转发
   - INCLUDE：动态包含
   - ERROR：错误页面跳转
4. 过滤器初始化参数
5. 一个过滤器可以配置给多个 URL
6. 一个 URL 也可以配置多个过滤器，按照配置顺序执行，多个过滤器组成一个过滤链

~~~xml
<filter>
    <!-- 过滤器的名字 -->
	<filter-name>FdlFilter</filter-name>
    <!-- 过滤器的类信息 -->
	<filter-class>com.looper.filter.FdlFilter</filter-class>
    <!-- 过滤器的初始化参数 -->
    <init-param>
    	<param-name></param-name>
        <param-value></param-value>
    </init-param>
</filter>
<filter-mapping>
    
	<filter-name>FdlFilter</filter-name>
    <!-- 过滤器能够过滤的资源 URL -->
	<url-pattern>/order/*</url-pattern>
    <!-- 过滤器对这些 URL 的访问方式;不进行配置时默认 REQUEST -->
    <dispatcher>REQUEST</dispatcher>
    <dispatcher>FORWARD</dispatcher>
    <dispatcher>INCLUDE</dispatcher>
    <dispatcher>ERROR</dispatcher>
</filter-mapping>
~~~





## 7、防盗链过滤器

### 7.1、盗链

盗链：在自己页面上展示并不在自己服务器上的内容

通过盗链可以减轻自己服务器的负担，因为真实的空间和流量均来自别人的服务器



### 7.2、防盗链系统

防盗链系统：



### 7.3、防盗链实现方法



请求资源时，判定请求资源和发起请求的来源是否同一个站点

1. 如果请求资源和发起请求的来源相同，代表同一个站点，则放行
2. 如果请求资源和发起请求的来源不相同，代表不是一个同站点，则提示盗链







